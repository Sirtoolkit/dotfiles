#!{{ lookPath "sh" }}

{{ if eq .chezmoi.os "darwin" -}}
set -e

# Colores para output
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

log_info() {
    echo "${BLUE}‚ÑπÔ∏è  $1${NC}"
}

log_success() {
    echo "${GREEN}‚úÖ $1${NC}"
}

log_warning() {
    echo "${YELLOW}‚ö†Ô∏è  $1${NC}"
}

log_error() {
    echo "${RED}‚ùå $1${NC}"
}

log_step() {
    echo "\n${BLUE}üöÄ $1${NC}"
}

log_step "Aplicando configuraciones de macOS (.macos)"

# Verificar que el archivo .macos existe
if [ ! -f "$HOME/.macos" ]; then
    log_error "Archivo .macos no encontrado en $HOME/.macos"
    exit 1
fi

# Ejecutar el script .macos
log_info "Ejecutando configuraciones de macOS..."
bash "$HOME/.macos"

log_success "Configuraciones de macOS aplicadas correctamente"
log_warning "Algunas configuraciones requieren cerrar sesi√≥n o reiniciar para tener efecto"

{{ end -}}
